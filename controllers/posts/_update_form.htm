<?= Form::open() ?>
    <input type="hidden" name="id" value="<?= $id ?>" />
    <input type="hidden" name="type" value="<?= $type ?>" />

    <div class="modal-header">
        <button type="button" class="close" data-dismiss="popup">&times;</button>
        <h4 class="modal-title">Update post <?= $type ?></h4>
    </div>

    <?php if (!$this->fatalError): ?>
        <div class="modal-body">
            <?= $this->formRender() ?>
        </div>

        <div class="modal-footer">
            <button
                type="submit"
                data-request="onUpdateRecord"
                data-request-data="redirect:0"
                data-hotkey="ctrl+s, cmd+s"
                data-popup-load-indicator
                class="btn btn-primary">
                <u>S</u>ave
            </button>

            <?= $this->makePartial('partials/popup/cancel_button') ?>

            <?php if ($isRecordDeletable): ?>
                <button
                    type="button"
                    class="oc-icon-trash-o btn-icon danger pull-left"
                    data-request="onDeleteRecord"
                    data-popup-load-indicator
                    data-request-confirm="Do you really want to delete this <?= $type ?>?">
                </button>
            <?php endif ?>
        </div>
    <?php else: ?>
        <?= $this->makePartial('partials/popup/fatal_error') ?>
    <?php endif ?>

    <?= $this->makePartial('partials/popup/timeout') ?>
<?= Form::close() ?>
